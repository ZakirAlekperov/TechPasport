<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="zakir.alekperov.ui.tabs.commoninfo.CommonInfoTabController"
            fitToWidth="true">
    
    <VBox spacing="15" style="-fx-padding: 20;">
        
        <!-- Заголовок -->
        <Label text="1. ОБЩИЕ СВЕДЕНИЯ" 
               style="-fx-font-size: 20; -fx-font-weight: bold;"/>
        
        <Separator/>
        
        <!-- АДРЕС ОБЪЕКТА -->
        <VBox spacing="10" style="-fx-padding: 15; -fx-background-color: #f9f9f9; -fx-background-radius: 5;">
            <Label text="Адрес объекта (местоположение)" 
                   style="-fx-font-size: 16; -fx-font-weight: bold;"/>
            
            <Label text="Вводите адрес свободно. При сохранении система проверит правильность через базу ФИАС."
                   style="-fx-text-fill: #666; -fx-font-style: italic; -fx-font-size: 12;"/>
            
            <GridPane hgap="10" vgap="10">
                <columnConstraints>
                    <ColumnConstraints minWidth="200" prefWidth="200"/>
                    <ColumnConstraints hgrow="ALWAYS"/>
                </columnConstraints>
                
                <Label text="Субъект РФ:*" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <TextField fx:id="regionField" 
                           GridPane.rowIndex="0" GridPane.columnIndex="1" 
                           promptText="Например: Москва, Смоленская область"/>
                
                <Label text="Административный район (округ):" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <TextField fx:id="districtField" 
                           GridPane.rowIndex="1" GridPane.columnIndex="1" 
                           promptText="Необязательно"/>
                
                <Label text="Город (населенный пункт):*" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <TextField fx:id="cityField" 
                           GridPane.rowIndex="2" GridPane.columnIndex="1" 
                           promptText="Например: Смоленск"/>
                
                <Label text="Район города:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                <TextField fx:id="cityDistrictField" 
                           GridPane.rowIndex="3" GridPane.columnIndex="1" 
                           promptText="Необязательно"/>
                
                <Label text="Улица (переулок):*" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                <TextField fx:id="streetField" 
                           GridPane.rowIndex="4" GridPane.columnIndex="1" 
                           promptText="Например: улица Ленина"/>
                
                <Label text="Дом №:*" GridPane.rowIndex="5" GridPane.columnIndex="0"/>
                <TextField fx:id="houseField" 
                           GridPane.rowIndex="5" GridPane.columnIndex="1" 
                           promptText="Например: 12, 5А"
                           prefWidth="150"/>
                
                <Label text="Строение (корпус):" GridPane.rowIndex="6" GridPane.columnIndex="0"/>
                <TextField fx:id="buildingField" 
                           GridPane.rowIndex="6" GridPane.columnIndex="1" 
                           promptText="Необязательно"
                           prefWidth="150"/>
            </GridPane>
            
            <Label text="* - обязательные поля" 
                   style="-fx-text-fill: #999; -fx-font-size: 11;"/>
        </VBox>
        
        <!-- Проверенный адрес -->
        <VBox fx:id="validatedAddressBox" 
              spacing="5" 
              style="-fx-padding: 15; -fx-background-color: #e8f5e9; -fx-background-radius: 5;"
              visible="false" managed="false">
            <HBox spacing="5" alignment="CENTER_LEFT">
                <Label text="✓" style="-fx-font-size: 16; -fx-text-fill: green; -fx-font-weight: bold;"/>
                <Label text="Адрес проверен и подтвержден:" style="-fx-font-weight: bold;"/>
            </HBox>
            <Label fx:id="validatedAddressLabel" 
                   wrapText="true"
                   style="-fx-text-fill: #333;"/>
            <Label fx:id="postalCodeLabel" 
                   style="-fx-text-fill: #666; -fx-font-size: 11;"/>
        </VBox>
        
        <Separator/>
        
        <!-- ХАРАКТЕРИСТИКИ ОБЪЕКТА -->
        <VBox spacing="10" style="-fx-padding: 15; -fx-background-color: #f0f8ff; -fx-background-radius: 5;">
            <Label text="Характеристики объекта" 
                   style="-fx-font-size: 16; -fx-font-weight: bold;"/>
            
            <GridPane hgap="10" vgap="10">
                <columnConstraints>
                    <ColumnConstraints minWidth="200" prefWidth="200"/>
                    <ColumnConstraints hgrow="ALWAYS"/>
                </columnConstraints>
                
                <!-- Назначение -->
                <Label text="Назначение:*" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <ComboBox fx:id="purposeField" 
                          GridPane.rowIndex="0" GridPane.columnIndex="1"
                          promptText="Выберите назначение"
                          prefWidth="300"/>
                
                <!-- Фактическое использование -->
                <Label text="Фактическое использование:*" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <ComboBox fx:id="actualUseField" 
                          GridPane.rowIndex="1" GridPane.columnIndex="1"
                          promptText="Выберите вариант"
                          prefWidth="300"/>
                
                <!-- Год постройки -->
                <Label text="Год постройки:*" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <HBox spacing="10" GridPane.rowIndex="2" GridPane.columnIndex="1">
                    <TextField fx:id="buildYearField" 
                               promptText="Например: 2020"
                               prefWidth="150"/>
                    <Label text="(Год ввода в эксплуатацию)" 
                           style="-fx-text-fill: #666; -fx-font-size: 11;"/>
                </HBox>
            </GridPane>
        </VBox>
        
        <!-- ПЛОЩАДИ И ЭТАЖНОСТЬ -->
        <VBox spacing="10" style="-fx-padding: 15; -fx-background-color: #fff8e1; -fx-background-radius: 5;">
            <Label text="Площади и этажность" 
                   style="-fx-font-size: 16; -fx-font-weight: bold;"/>
            
            <GridPane hgap="10" vgap="10">
                <columnConstraints>
                    <ColumnConstraints minWidth="200" prefWidth="200"/>
                    <ColumnConstraints hgrow="ALWAYS"/>
                </columnConstraints>
                
                <!-- Общая площадь -->
                <Label text="Общая площадь (кв.м):*" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <HBox spacing="10" GridPane.rowIndex="0" GridPane.columnIndex="1">
                    <TextField fx:id="totalAreaField" 
                               promptText="Например: 120.5"
                               prefWidth="150"/>
                    <Label text="кв.м" style="-fx-text-fill: #666;"/>
                </HBox>
                
                <!-- Жилая площадь -->
                <Label text="Жилая площадь (кв.м):*" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <HBox spacing="10" GridPane.rowIndex="1" GridPane.columnIndex="1">
                    <TextField fx:id="livingAreaField" 
                               promptText="Например: 80.0"
                               prefWidth="150"/>
                    <Label text="кв.м (должна быть меньше общей)" 
                           style="-fx-text-fill: #666; -fx-font-size: 11;"/>
                </HBox>
                
                <!-- Число надземных этажей -->
                <Label text="Число этажей (надземная часть):*" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <HBox spacing="10" GridPane.rowIndex="2" GridPane.columnIndex="1">
                    <Spinner fx:id="aboveGroundFloorsSpinner" 
                             prefWidth="100"
                             editable="true"/>
                    <Label text="этажей" style="-fx-text-fill: #666;"/>
                </HBox>
                
                <!-- Число подземных этажей -->
                <Label text="Число этажей (подземная часть):" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                <HBox spacing="10" GridPane.rowIndex="3" GridPane.columnIndex="1">
                    <Spinner fx:id="undergroundFloorsSpinner" 
                             prefWidth="100"
                             editable="true"/>
                    <Label text="этажей (обычно 0-1, если есть подвал/цоколь)" 
                           style="-fx-text-fill: #666; -fx-font-size: 11;"/>
                </HBox>
            </GridPane>
        </VBox>
        
        <!-- ПРИМЕЧАНИЕ -->
        <VBox spacing="10" style="-fx-padding: 15; -fx-background-color: #f9f9f9; -fx-background-radius: 5;">
            <Label text="Примечание" 
                   style="-fx-font-size: 16; -fx-font-weight: bold;"/>
            
            <Label text="Укажите дополнительные сведения, например: нарушения строительных норм, отсутствие разрешения на строительство и т.д."
                   wrapText="true"
                   style="-fx-text-fill: #666; -fx-font-size: 11;"/>
            
            <TextArea fx:id="remarksField" 
                      promptText="Необязательное поле"
                      prefRowCount="3"
                      wrapText="true"/>
        </VBox>
        
        <!-- Кнопки -->
        <HBox spacing="10" style="-fx-alignment: center-right; -fx-padding: 10 0 0 0;">
            <Button text="Очистить" onAction="#handleClear" 
                    style="-fx-min-width: 120;"/>
            <Button text="Проверить и сохранить" onAction="#handleSave" 
                    style="-fx-min-width: 180; -fx-background-color: #4CAF50; -fx-text-fill: white;"/>
        </HBox>
    
    </VBox>
    
</ScrollPane>
