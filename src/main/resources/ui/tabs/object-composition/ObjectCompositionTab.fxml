<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="zakir.alekperov.ui.tabs.objectcomposition.ObjectCompositionTabController"
      spacing="15" style="-fx-padding: 20;">
    
    <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
    <Label text="2. Ð¡ÐžÐ¡Ð¢ÐÐ’ ÐžÐ‘ÐªÐ•ÐšÐ¢Ð" 
           style="-fx-font-size: 20; -fx-font-weight: bold;"/>
    
    <Separator/>
    
    <!-- ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ -->
    <VBox spacing="5" style="-fx-padding: 10; -fx-background-color: #e3f2fd; -fx-background-radius: 5;">
        <Label text="ðŸ“‹ Ð£ÐºÐ°Ð¶Ð¸Ñ‚Ðµ Ð²ÑÐµ ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ñ Ð¸ ÑÐ¾Ð¾Ñ€ÑƒÐ¶ÐµÐ½Ð¸Ñ Ð½Ð° ÑƒÑ‡Ð°ÑÑ‚ÐºÐµ" 
               style="-fx-font-weight: bold; -fx-font-size: 14;"/>
        <Label text="Ð’ ÑÑ‚Ð¾Ð¼ Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ Ð¿ÐµÑ€ÐµÑ‡Ð¸ÑÐ»ÑÑŽÑ‚ÑÑ: Ð¶Ð¸Ð»Ð¾Ð¹ Ð´Ð¾Ð¼, Ñ…Ð¾Ð·ÑÐ¹ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ð¾ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ (Ð±Ð°Ð½Ñ, Ð³Ð°Ñ€Ð°Ð¶, ÑÐ°Ñ€Ð°Ð¹ Ð¸ Ñ‚.Ð¿.)" 
               wrapText="true"
               style="-fx-text-fill: #666; -fx-font-size: 12;"/>
    </VBox>
    
    <!-- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ð¹ -->
    <VBox spacing="10" VBox.vgrow="ALWAYS">
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Label text="Ð¡Ð¿Ð¸ÑÐ¾Ðº ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ð¹ Ð¸ ÑÐ¾Ð¾Ñ€ÑƒÐ¶ÐµÐ½Ð¸Ð¹:" 
                   style="-fx-font-weight: bold; -fx-font-size: 14;"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ" onAction="#handleAddBuilding"
                    style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold;"/>
        </HBox>
        
        <TableView fx:id="buildingsTable" VBox.vgrow="ALWAYS" 
                   style="-fx-min-height: 300px;">
            <columns>
                <TableColumn fx:id="letterColumn" text="Ð›Ð¸Ñ‚ÐµÑ€Ð°" prefWidth="60" minWidth="50"/>
                <TableColumn fx:id="nameColumn" text="ÐÐ°Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ" prefWidth="150" minWidth="100"/>
                <TableColumn fx:id="yearColumn" text="Ð“Ð¾Ð´ Ð²Ð²Ð¾Ð´Ð°" prefWidth="80" minWidth="70"/>
                <TableColumn fx:id="materialColumn" text="ÐœÐ°Ñ‚ÐµÑ€Ð¸Ð°Ð» ÑÑ‚ÐµÐ½" prefWidth="120" minWidth="100"/>
                <TableColumn fx:id="areaColumn" text="ÐŸÐ»Ð¾Ñ‰Ð°Ð´ÑŒ, ÐºÐ².Ð¼" prefWidth="100" minWidth="80"/>
                <TableColumn fx:id="heightColumn" text="Ð’Ñ‹ÑÐ¾Ñ‚Ð°, Ð¼" prefWidth="80" minWidth="70"/>
                <TableColumn fx:id="volumeColumn" text="ÐžÐ±ÑŠÐµÐ¼, ÐºÑƒÐ±.Ð¼" prefWidth="100" minWidth="80"/>
                <TableColumn fx:id="valueColumn" text="Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ, Ñ€ÑƒÐ±." prefWidth="120" minWidth="100"/>
                <TableColumn fx:id="actionsColumn" text="Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ" prefWidth="120" minWidth="100"/>
            </columns>
            <placeholder>
                <VBox alignment="CENTER" spacing="10" style="-fx-padding: 20;">
                    <Label text="ðŸ—ï¸" style="-fx-font-size: 48;"/>
                    <Label text="Ð¡Ñ‚Ñ€Ð¾ÐµÐ½Ð¸Ñ Ð½Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹" 
                           style="-fx-font-size: 14; -fx-text-fill: #999;"/>
                    <Label text="ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÑƒ 'Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ' Ð´Ð»Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°" 
                           style="-fx-font-size: 12; -fx-text-fill: #999;"/>
                </VBox>
            </placeholder>
        </TableView>
    </VBox>
    
    <!-- Ð˜Ñ‚Ð¾Ð³Ð¸ -->
    <VBox spacing="5" style="-fx-padding: 15; -fx-background-color: #fff8e1; -fx-background-radius: 5;">
        <Label text="Ð˜Ñ‚Ð¾Ð³Ð¾:" style="-fx-font-weight: bold; -fx-font-size: 14;"/>
        <GridPane hgap="20" vgap="5">
            <columnConstraints>
                <ColumnConstraints minWidth="150"/>
                <ColumnConstraints minWidth="100"/>
            </columnConstraints>
            
            <Label text="ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ð¹:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
            <Label fx:id="totalBuildingsLabel" text="0" 
                   GridPane.rowIndex="0" GridPane.columnIndex="1"
                   style="-fx-font-weight: bold;"/>
            
            <Label text="ÐžÐ±Ñ‰Ð°Ñ Ð¿Ð»Ð¾Ñ‰Ð°Ð´ÑŒ Ð·Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
            <Label fx:id="totalAreaLabel" text="0.0 ÐºÐ².Ð¼" 
                   GridPane.rowIndex="1" GridPane.columnIndex="1"
                   style="-fx-font-weight: bold;"/>
            
            <Label text="ÐžÐ±Ñ‰Ð¸Ð¹ Ð¾Ð±ÑŠÐµÐ¼:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
            <Label fx:id="totalVolumeLabel" text="0.0 ÐºÑƒÐ±.Ð¼" 
                   GridPane.rowIndex="2" GridPane.columnIndex="1"
                   style="-fx-font-weight: bold;"/>
            
            <Label text="ÐžÐ±Ñ‰Ð°Ñ Ð¸Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ ÑÑ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
            <Label fx:id="totalValueLabel" text="0.00 Ñ€ÑƒÐ±." 
                   GridPane.rowIndex="3" GridPane.columnIndex="1"
                   style="-fx-font-weight: bold;"/>
        </GridPane>
    </VBox>
    
    <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ -->
    <HBox spacing="10" style="-fx-alignment: center-right; -fx-padding: 10 0 0 0;">
        <Button text="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÐµ" onAction="#handleClear" 
                style="-fx-min-width: 120;"/>
        <Button text="Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ" onAction="#handleSave" 
                style="-fx-min-width: 120; -fx-background-color: #4CAF50; -fx-text-fill: white;"/>
    </HBox>

</VBox>
